<h1 align="center">文献检索语法检测（Search Syntax Checker）</h1>

<p align="center">本项目为 Tampermonkey (篡改猴) 网页插件，目的是为上海师范大学学术资源统一检索专业检索提供内容输入辅助。</p>

---

## 本插件包含以下功能

### 1. 符号内容检测

- 判断搜索框内容中的所有符号是否为半角符号，以及是否有缺少符号（比如缺少左括号 `(` 或右括号 `)`、是否缺少引号 `'` `"`），如果存在以上问题会使用红色的提示框警告显示缺少的内容及数量；

- 出现除 `(` `)` `"` `'` `*` `|` `-` `>` `=` `<` 以外的符号（包括所有全角符号）会使用黄色提示框提醒，也可自行前往脚本页面添加白名单。

### 2. 逻辑符号检测

- 检查右括号与左括号之间是否仅存在 * | - 三种符号之一，如果出现了以上三种符号以外的符号会使用红色提示框提醒。

- 检查 * | - 三种符号是否仅存在于右括号与左括号之间（左边必须是右括号 `)`，右边必须是左括号 `(`），如果不存在会使用黄色提示框提醒。

### 3. 包裹回删逻辑

- 搜索框里选中内容后输入左侧符号会自动在选中内容左右侧生成该符号（例如左括号 `(` 和右括号 `)`，左单引号 `'` 和右单引号 `'` 等，不包括全角符号）。

### 4. 右侧符号补全

- 当不缺少另一半符号时，打出左括号`(`、单引号 `'` 或双引号 `"`（后简称为左侧符号，对应的另一个符号简称为右侧符号，但左右侧符号必须相互对应，即左括号 `(` 对应右括号 `)`，左单引号 `'` 对应右单引号 `'` 等）后自动补全右侧符号；

- 判断输入左侧符号后的首个输入内容，如果是删除 `BackSpace` 该左侧符号则会将补全的右侧符号一同删除，如果是输入对应的右侧符号则删除自动生成的右侧符号并保留输入的右侧符号，以防造成重叠报错；

- 如果缺少另一半符号则该条规则不执行。

### 5. 搜索类型补全

- 在搜索框输入 `(T="XXX` 后，如果再次输入双引号 `“` 会按照自动补全文本框中选择的类型自动补全（默认会补全为 `(T="XXX")|(k="xx")`），默认补全类型为关键词 `K`；

- 补全类型为搜索框上方按钮展示类型 [`T`= 题名，`A`= 作者，`K`= 关键词，`Y`= 年份，`O`= 作者单位，`JNj`= 刊名，`S`= 摘要]；

- 输入错误类型会采用默认补全类型为关键词 `K`。

---

**特此声明**：本插件存在大量不稳定性，请谨慎使用，对造成的后果例如通告批评、延毕等，本人概不负责。
